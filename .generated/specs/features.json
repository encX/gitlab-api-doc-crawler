{
  "origin": "https://docs.gitlab.com/ee/api/features.html",
  "pageSlug": "features",
  "pageName": "Feature flags",
  "apis": [
    {
      "name": "List all features",
      "description": "Get a list of all persisted features, with its gate values.",
      "resources": [
        {
          "method": "GET",
          "path": "/features"
        }
      ],
      "attributes": [],
      "response": [
        {
          "name": "experimental_feature",
          "state": "off",
          "gates": [
            {
              "key": "boolean",
              "value": false
            }
          ],
          "definition": null
        },
        {
          "name": "my_user_feature",
          "state": "on",
          "gates": [
            {
              "key": "percentage_of_actors",
              "value": 34
            }
          ],
          "definition": {
            "name": "my_user_feature",
            "introduced_by_url": "https://gitlab.com/gitlab-org/gitlab/-/merge_requests/40880",
            "rollout_issue_url": "https://gitlab.com/gitlab-org/gitlab/-/issues/244905",
            "group": "group::ci",
            "type": "development",
            "default_enabled": false
          }
        },
        {
          "name": "new_library",
          "state": "on",
          "gates": [
            {
              "key": "boolean",
              "value": true
            }
          ],
          "definition": null
        }
      ]
    },
    {
      "name": "List all feature definitions",
      "description": "Get a list of all feature definitions.",
      "resources": [
        {
          "method": "GET",
          "path": "/features/definitions"
        }
      ],
      "attributes": [],
      "response": [
        {
          "name": "api_kaminari_count_with_limit",
          "introduced_by_url": "https://gitlab.com/gitlab-org/gitlab-foss/-/merge_requests/23931",
          "rollout_issue_url": null,
          "milestone": "11.8",
          "type": "ops",
          "group": "group::ecosystem",
          "default_enabled": true
        },
        {
          "name": "marginalia",
          "introduced_by_url": null,
          "rollout_issue_url": null,
          "milestone": null,
          "type": "ops",
          "group": null,
          "default_enabled": false
        }
      ]
    },
    {
      "name": "Set or create a feature",
      "description": "Set a feature’s gate value. If a feature with the given name doesn’t exist yet, it’s created. The value can be a boolean, or an integer to indicate percentage of time.",
      "resources": [
        {
          "method": "POST",
          "path": "/features/:name"
        }
      ],
      "attributes": [
        {
          "name": "name",
          "type": "string",
          "required": true,
          "description": "Name of the feature to create or update"
        },
        {
          "name": "value",
          "type": "integer/string",
          "required": true,
          "description": "true or false to enable/disable, or an integer for percentage of time"
        },
        {
          "name": "key",
          "type": "string",
          "required": false,
          "description": "percentage_of_actors or percentage_of_time (default)"
        },
        {
          "name": "feature_group",
          "type": "string",
          "required": false,
          "description": "A Feature group name"
        },
        {
          "name": "user",
          "type": "string",
          "required": false,
          "description": "A GitLab username"
        },
        {
          "name": "group",
          "type": "string",
          "required": false,
          "description": "A GitLab group’s path, for example gitlab-org"
        },
        {
          "name": "project",
          "type": "string",
          "required": false,
          "description": "A projects path, for example gitlab-org/gitlab-foss"
        },
        {
          "name": "force",
          "type": "boolean",
          "required": false,
          "description": "Skip feature flag validation checks, such as a YAML definition"
        }
      ],
      "response": {
        "name": "new_library",
        "state": "conditional",
        "gates": [
          {
            "key": "boolean",
            "value": false
          },
          {
            "key": "percentage_of_time",
            "value": 30
          }
        ],
        "definition": {
          "name": "my_user_feature",
          "introduced_by_url": "https://gitlab.com/gitlab-org/gitlab/-/merge_requests/40880",
          "rollout_issue_url": "https://gitlab.com/gitlab-org/gitlab/-/issues/244905",
          "group": "group::ci",
          "type": "development",
          "default_enabled": false
        }
      }
    },
    {
      "name": "Set percentage of actors rollout",
      "description": "Rollout to percentage of actors.",
      "resources": [
        {
          "method": "POST",
          "path": "https://gitlab.example.com/api/v4/features/my_user_feature?private_token=<your_access_token>"
        }
      ],
      "attributes": [],
      "response": {
        "name": "my_user_feature",
        "state": "conditional",
        "gates": [
          {
            "key": "boolean",
            "value": false
          },
          {
            "key": "percentage_of_actors",
            "value": 42
          }
        ],
        "definition": {
          "name": "my_user_feature",
          "introduced_by_url": "https://gitlab.com/gitlab-org/gitlab/-/merge_requests/40880",
          "rollout_issue_url": "https://gitlab.com/gitlab-org/gitlab/-/issues/244905",
          "group": "group::ci",
          "type": "development",
          "default_enabled": false
        }
      }
    },
    {
      "name": "Delete a feature",
      "description": "Removes a feature gate. Response is equal when the gate exists, or doesn’t.",
      "resources": [
        {
          "method": "DELETE",
          "path": "/features/:name"
        }
      ],
      "attributes": [],
      "response": null
    }
  ]
}